# Telegram RPG Bot Configuration
# Скопіюйте цей файл як config.py та налаштуйте під себе

import os
from datetime import datetime

# =============================================================================
# ОСНОВНІ НАЛАШТУВАННЯ БОТА
# =============================================================================

# Токен бота від @BotFather
BOT_TOKEN = "YOUR_BOT_TOKEN_HERE"

# ID адміністратора (ваш Telegram ID)
ADMIN_USER_ID = 123456789

# Режим налагодження
DEBUG_MODE = False

# База даних
DATABASE_URL = "sqlite:///game.db"

# Рівень логування
LOG_LEVEL = "INFO"

# =============================================================================
# НАЛАШТУВАННЯ ІГРИ
# =============================================================================

# Початкові характеристики персонажів
INITIAL_STATS = {
    "warrior": {"health": 120, "attack": 15, "defense": 12, "speed": 8},
    "mage": {"health": 80, "attack": 18, "defense": 6, "speed": 10},
    "archer": {"health": 90, "attack": 16, "defense": 8, "speed": 12},
    "rogue": {"health": 100, "attack": 14, "defense": 7, "speed": 15}
}

# Початкове золото
INITIAL_GOLD = 100

# Початковий рівень
INITIAL_LEVEL = 1

# Початковий досвід
INITIAL_EXP = 0

# =============================================================================
# СИСТЕМА ДОСВІДУ
# =============================================================================

# Базовий досвід для наступного рівня
BASE_EXP_REQUIREMENT = 100

# Множник досвіду за рівень
EXP_MULTIPLIER = 1.5

# Максимальний рівень
MAX_LEVEL = 100

# =============================================================================
# БОЙОВА СИСТЕМА
# =============================================================================

# Базові шанси критичного удару (%)
BASE_CRIT_CHANCE = 5

# Множник критичного удару
CRIT_MULTIPLIER = 2.0

# Базовий шанс ухилення (%)
BASE_DODGE_CHANCE = 3

# Мінімальний урон
MIN_DAMAGE = 1

# =============================================================================
# ПІДЗЕМЕЛЛЯ
# =============================================================================

# Максимальна кількість кімнат для кожного типу підземелля
DUNGEON_MAX_ROOMS = {
    "crypt": 5,      # Крипта - 5 кімнат
    "cave": 8,       # Печера - 8 кімнат
    "tower": 12,     # Башта - 12 кімнат
    "temple": 15     # Храм - 15 кімнат
}

# Рівні доступу до підземель
DUNGEON_LEVEL_REQUIREMENTS = {
    "crypt": 1,      # Крипта - з 1 рівня
    "cave": 5,       # Печера - з 5 рівня
    "tower": 10,     # Башта - з 10 рівня
    "temple": 15     # Храм - з 15 рівня
}

# Базові вороги для підземель
DUNGEON_ENEMIES = {
    "crypt": ["Скелет", "Зомбі", "Привид"],
    "cave": ["Гоблін", "Троль", "Орк"],
    "tower": ["Демон", "Дракон", "Ліч"],
    "temple": ["Ангел", "Архітектор", "Бог"]
}

# =============================================================================
# ЕКОНОМІКА
# =============================================================================

# Множник золота за рівень
GOLD_MULTIPLIER = 1.2

# Базове золото за перемогу
BASE_GOLD_REWARD = 10

# Базовий досвід за перемогу
BASE_EXP_REWARD = 15

# Вартість зілля здоров'я
HEALTH_POTION_COST = 50

# Вартість зілля сили
STRENGTH_POTION_COST = 75

# Вартість зілля захисту
DEFENSE_POTION_COST = 75

# Вартість зілля швидкості
SPEED_POTION_COST = 75

# =============================================================================
# СИСТЕМА ЗІЛЛЯ
# =============================================================================

# Шанс падіння зілля в підземеллях (%)
POTION_DROP_CHANCE = 10

# Ефекти зілля
POTION_EFFECTS = {
    "health": {"health": 50},           # +50 HP
    "strength": {"attack": 5, "duration": 300},  # +5 атаки на 5 хв
    "defense": {"defense": 5, "duration": 300},  # +5 захисту на 5 хв
    "speed": {"speed": 5, "duration": 300}       # +5 швидкості на 5 хв
}

# =============================================================================
# КУЗНЯ
# =============================================================================

# Матеріали для покращення
UPGRADE_MATERIALS = {
    "gods_stone": {"name": "Gods Stone", "drop_chance": 15},
    "mithril_dust": {"name": "Mithril Dust", "drop_chance": 25},
    "dragon_scale": {"name": "Dragon Scale", "drop_chance": 35}
}

# Вартість покращення за рівень
UPGRADE_COST_MULTIPLIER = 100

# Шанси успіху покращення (%)
UPGRADE_SUCCESS_RATES = {
    1: 90,   # Рівень 1-5: 90%
    5: 80,   # Рівень 6-10: 80%
    10: 70,  # Рівень 11-15: 70%
    15: 60,  # Рівень 16-20: 60%
    20: 50,  # Рівень 21-25: 50%
    25: 40,  # Рівень 26-30: 40%
    30: 30,  # Рівень 31-35: 30%
    35: 20,  # Рівень 36-40: 20%
    40: 10   # Рівень 41+: 10%
}

# =============================================================================
# ВІДПОЧИНОК
# =============================================================================

# Відновлення здоров'я за 15 секунд
REST_HEALTH_REGEN = 15

# Інтервал відновлення (секунди)
REST_INTERVAL = 15

# =============================================================================
# АРЕНА
# =============================================================================

# Мінімальний рівень для арени
ARENA_MIN_LEVEL = 3

# Базова нагорода за перемогу в арені
ARENA_GOLD_REWARD = 25

# Базовий досвід за перемогу в арені
ARENA_EXP_REWARD = 20

# =============================================================================
# ЛОГУВАННЯ
# =============================================================================

# Шлях до файлу логів
LOG_FILE = "logs/bot.log"

# Максимальний розмір файлу логу (байти)
LOG_MAX_SIZE = 10 * 1024 * 1024  # 10MB

# Кількість файлів логу для збереження
LOG_BACKUP_COUNT = 5

# =============================================================================
# РЕЗЕРВНІ КОПІЇ
# =============================================================================

# Автоматичні резервні копії
AUTO_BACKUP = True

# Інтервал резервних копій (години)
BACKUP_INTERVAL = 24

# Кількість резервних копій для збереження
BACKUP_COUNT = 7

# Шлях до резервних копій
BACKUP_PATH = "backups/"

# =============================================================================
# ТЕМНИЙ ЛІС
# =============================================================================

# Мінімальний рівень для лісу
FOREST_MIN_LEVEL = 2

# Базові вороги лісу
FOREST_ENEMIES = ["Вовк", "Ведмідь", "Кабан", "Лісовий дух", "Розбійник"]

# Шанс зустрічі з ворогом (%)
FOREST_ENCOUNTER_CHANCE = 70

# =============================================================================
# ДОСЯГНЕННЯ
# =============================================================================

# Досягнення за рівні
LEVEL_ACHIEVEMENTS = {
    5: "Новачок",
    10: "Досвідчений",
    20: "Ветеран",
    30: "Герой",
    50: "Легенда",
    100: "Бог"
}

# Досягнення за кількість перемог
VICTORY_ACHIEVEMENTS = {
    10: "Перші кроки",
    50: "Боєць",
    100: "Воїн",
    500: "Завойовник",
    1000: "Непереможний"
}

# =============================================================================
# СТАТИСТИКА
# =============================================================================

# Оновлення статистики (секунди)
STATS_UPDATE_INTERVAL = 300  # 5 хвилин

# Збереження статистики (дні)
STATS_RETENTION_DAYS = 30

# =============================================================================
# БЕЗПЕКА
# =============================================================================

# Максимальна кількість спроб створення персонажа
MAX_CHARACTER_CREATION_ATTEMPTS = 3

# Таймаут між спробами (секунди)
CREATION_TIMEOUT = 60

# Максимальна довжина імені персонажа
MAX_NAME_LENGTH = 20

# Мінімальна довжина імені персонажа
MIN_NAME_LENGTH = 2

# =============================================================================
# ПОВІДОМЛЕННЯ
# =============================================================================

# Таймаут для кнопок (секунди)
BUTTON_TIMEOUT = 300  # 5 хвилин

# Максимальна довжина повідомлення
MAX_MESSAGE_LENGTH = 4096

# Формат дати
DATE_FORMAT = "%Y-%m-%d %H:%M:%S"

# =============================================================================
# РОЗРОБКА
# =============================================================================

# Тестовий режим
TEST_MODE = False

# Тестовий токен (використовується тільки в TEST_MODE)
TEST_BOT_TOKEN = "TEST_TOKEN"

# Тестовий ID адміністратора
TEST_ADMIN_ID = 123456789

# =============================================================================
# ЕКСПОРТ НАЛАШТУВАНЬ
# =============================================================================

# Функція для отримання всіх налаштувань
def get_all_settings():
    """Повертає всі налаштування як словник"""
    return {
        key: value for key, value in globals().items() 
        if not key.startswith('_') and key.isupper()
    }

# Функція для перевірки налаштувань
def validate_settings():
    """Перевіряє правильність налаштувань"""
    errors = []
    
    if not BOT_TOKEN or BOT_TOKEN == "YOUR_BOT_TOKEN_HERE":
        errors.append("BOT_TOKEN не налаштований")
    
    if not isinstance(ADMIN_USER_ID, int) or ADMIN_USER_ID <= 0:
        errors.append("ADMIN_USER_ID має бути позитивним числом")
    
    if not isinstance(DEBUG_MODE, bool):
        errors.append("DEBUG_MODE має бути True або False")
    
    return errors

# Перевірка налаштувань при імпорті
if __name__ == "__main__":
    errors = validate_settings()
    if errors:
        print("Помилки в налаштуваннях:")
        for error in errors:
            print(f"  - {error}")
    else:
        print("Всі налаштування в порядку!")
